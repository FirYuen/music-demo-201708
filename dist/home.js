"use strict";var $olSongs=$("ol#songs"),query=new AV.Query("Song");query.find().then(function(n){$("#songs-loading").remove();for(var e=0;e<n.length;e++){var i=n[e].attributes,r="\n            <li>\n              <h3>"+i.name+'</h3>\n              <p>\n                <svg class="icon icon-sq">\n                  <use xlink:href="#icon-sq"></use>\n                </svg>\n                '+i.singer+'\n              </p>\n              <a class="playButton" href="#">\n                <svg class="icon icon-play">\n                  <use xlink:href="#icon-play"></use>\n                </svg>\n              </a>\n            </li>\n    ';$olSongs.append(r)}},function(n){console.log(n),alert("获取歌曲失败")});var timer=null;$("input#search").on("input",function(n){timer&&window.clearTimeout(timer),timer=setTimeout(function(){timer=null;var e=$(n.currentTarget).val().trim();if(""!==e){var i=new AV.Query("Song");i.contains("name",e);var r=new AV.Query("Song");r.contains("singer",e),AV.Query.or(i,r).find().then(function(n){if($("#searchResult").empty(),0===n.length)$("#searchResult").html("没有结果");else for(var e=0;e<n.length;e++){var i=n[e].attributes,r='\n          <li data-id="'+n[e].id+'">\n            <a href="./song.html?id='+n[e].id+'">\n              '+i.name+" - "+i.singer+"\n            </a>\n          </li>\n        ";$("#searchResult").append(r)}})}},400)});